{
	"info": {
		"_postman_id": "fintech-accounts-collection-2026",
		"name": "fintech",
		"description": "Fintech API - Account Management Endpoints",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "fintech"
	},
	"item": [
		{
			"name": "Account",
			"item": [
				{
					"name": "List All Accounts for User",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"if (!pm.environment.get('base_url')) {",
									"    pm.environment.set('base_url', 'http://localhost:8000');",
									"}"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('Status code is 200', function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test('Response has correct structure', function () {",
									"    const jsonData = pm.response.json();",
									"    pm.expect(jsonData).to.have.property('key');",
									"    pm.expect(jsonData).to.have.property('msg');",
									"    pm.expect(jsonData).to.have.property('data');",
									"    pm.expect(jsonData.key).to.eql('success');",
									"});",
									"",
									"pm.test('Data is an array', function () {",
									"    const jsonData = pm.response.json();",
									"    pm.expect(jsonData.data).to.be.an('array');",
									"});",
									"",
									"if (jsonData.data.length > 0) {",
									"    pm.test('Account object has required fields', function () {",
									"        const account = jsonData.data[0];",
									"        pm.expect(account).to.have.property('id');",
									"        pm.expect(account).to.have.property('user_id');",
									"        pm.expect(account).to.have.property('bank_name');",
									"        pm.expect(account).to.have.property('bank_account_name');",
									"        pm.expect(account).to.have.property('bank_account_number');",
									"        pm.expect(account).to.have.property('bank_iban_number');",
									"        pm.expect(account).to.have.property('balance');",
									"        pm.expect(account).to.have.property('created_at');",
									"    });",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/users/:user/accounts",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"users",
								":user",
								"accounts"
							],
							"variable": [
								{
									"key": "user",
									"value": "1",
									"description": "User ID"
								}
							]
						},
						"description": "## Documentation\n\n### Description\nRetrieves a list of all accounts belonging to a specific user. Returns an array of account objects with their details. Soft-deleted accounts are excluded from the results. Accounts are automatically scoped to the user from the route parameter.\n\n### Notes\n- No authentication required\n- Returns all active accounts for the specified user only (soft-deleted accounts excluded)\n- Response follows ResponseTrait standard format\n- Accounts are automatically scoped to the user from the route parameter\n- User ID must exist, otherwise returns error\n\n### Request\n- **URL**: `{{base_url}}/api/users/{user}/accounts`\n- **Method**: `GET`\n- **Content-Type**: `application/json`\n- **URL Parameters**:\n  | Parameter | Type | Required | Description |\n  |-----------|------|----------|-------------|\n  | user | integer | Yes | User ID to retrieve accounts for |\n\n### Response\n\n#### Response Structure\n| Key | Type | Description |\n|-----|------|-------------|\n| key | string | Response status key, always \"success\" for 200 |\n| msg | string | Response message in Arabic, default \"تم بنجاح\" |\n| data | array | Array of account objects |\n\n#### Account Object Structure\n| Key | Type | Description |\n|-----|------|-------------|\n| id | integer | Account unique identifier |\n| user_id | integer | User ID that owns this account |\n| bank_name | string | Bank name (max 50 characters) |\n| bank_account_name | string | Account holder name (max 100 characters) |\n| bank_account_number | string | Bank account number (max 50 characters) |\n| bank_iban_number | string | IBAN number (max 50 characters) |\n| balance | decimal | Account balance (decimal with 2 decimal places, minimum 0) |\n| created_at | string | Formatted creation timestamp (Y-m-d H:i:s) |\n\n#### Example Response (200 OK)\n```json\n{\n    \"key\": \"success\",\n    \"msg\": \"تم بنجاح\",\n    \"data\": [\n        {\n            \"id\": 1,\n            \"user_id\": 1,\n            \"bank_name\": \"Example Bank Inc\",\n            \"bank_account_name\": \"John Doe\",\n            \"bank_account_number\": \"1234567890\",\n            \"bank_iban_number\": \"GB82WEST12345698765432\",\n            \"balance\": \"5000.00\",\n            \"created_at\": \"2026-01-30 10:00:00\"\n        }\n    ]\n}\n```\n\n#### Status Codes\n- `200 OK`: Success - Returns array of accounts\n- `400 Bad Request`: Failure - Error message in response"
					},
					"response": [
						{
							"name": "Success - List Accounts",
							"originalRequest": {
								"method": "GET",
								"header": [
									{
										"key": "Accept",
										"value": "application/json",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{base_url}}/api/users/1/accounts",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"users",
										"1",
										"accounts"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n    \"key\": \"success\",\n    \"msg\": \"تم بنجاح\",\n    \"data\": [\n        {\n            \"id\": 1,\n            \"user_id\": 1,\n            \"bank_name\": \"Example Bank Inc\",\n            \"bank_account_name\": \"John Doe\",\n            \"bank_account_number\": \"1234567890\",\n            \"bank_iban_number\": \"GB82WEST12345698765432\",\n            \"balance\": \"5000.00\",\n            \"created_at\": \"2026-01-30 10:00:00\"\n        },\n        {\n            \"id\": 2,\n            \"user_id\": 1,\n            \"bank_name\": \"Another Bank Ltd\",\n            \"bank_account_name\": \"John Doe\",\n            \"bank_account_number\": \"0987654321\",\n            \"bank_iban_number\": \"US64SVBKUS6S3300958879\",\n            \"balance\": \"2500.50\",\n            \"created_at\": \"2026-01-30 10:00:00\"\n        }\n    ]\n}"
						},
						{
							"name": "Error - Failure Response",
							"originalRequest": {
								"method": "GET",
								"header": [
									{
										"key": "Accept",
										"value": "application/json",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{base_url}}/api/users/1/accounts",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"users",
										"1",
										"accounts"
									]
								}
							},
							"status": "Bad Request",
							"code": 400,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n    \"key\": \"failure\",\n    \"msg\": \"Error message\",\n    \"data\": []\n}"
						}
					]
				},
				{
					"name": "Get Account by ID",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"if (!pm.environment.get('base_url')) {",
									"    pm.environment.set('base_url', 'http://localhost:8000');",
									"}"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('Status code is 200', function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test('Response has correct structure', function () {",
									"    const jsonData = pm.response.json();",
									"    pm.expect(jsonData).to.have.property('key');",
									"    pm.expect(jsonData).to.have.property('msg');",
									"    pm.expect(jsonData).to.have.property('data');",
									"    pm.expect(jsonData.key).to.eql('success');",
									"});",
									"",
									"pm.test('Data contains account object', function () {",
									"    const jsonData = pm.response.json();",
									"    pm.expect(jsonData.data).to.be.an('object');",
									"    pm.expect(jsonData.data).to.have.property('id');",
									"    pm.expect(jsonData.data).to.have.property('user_id');",
									"    pm.expect(jsonData.data).to.have.property('bank_name');",
									"    pm.expect(jsonData.data).to.have.property('bank_account_name');",
									"    pm.expect(jsonData.data).to.have.property('bank_account_number');",
									"    pm.expect(jsonData.data).to.have.property('bank_iban_number');",
									"    pm.expect(jsonData.data).to.have.property('balance');",
									"    pm.expect(jsonData.data).to.have.property('created_at');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/users/:user/accounts/:account",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"users",
								":user",
								"accounts",
								":account"
							],
							"variable": [
								{
									"key": "user",
									"value": "1",
									"description": "User ID"
								},
								{
									"key": "account",
									"value": "1",
									"description": "Account ID"
								}
							]
						},
						"description": "## Documentation\n\n### Description\nRetrieves a single account by its unique identifier for a specific user. Returns the account object with all its details. The account must belong to the specified user, otherwise an error is returned. If the account is not found or has been soft-deleted, an error response is returned.\n\n### Notes\n- No authentication required\n- User ID must exist\n- Account must belong to the specified user (ownership verification)\n- Returns 400 error if user not found, account not found, or ownership mismatch\n- Response follows ResponseTrait standard format\n- Account is returned using AccountResource for consistent formatting\n\n### Request\n- **URL**: `{{base_url}}/api/users/{user}/accounts/{account}`\n- **Method**: `GET`\n- **Content-Type**: `application/json`\n- **URL Parameters**:\n  | Parameter | Type | Required | Description |\n  |-----------|------|----------|-------------|\n  | user | integer | Yes | User ID that owns the account |\n  | account | integer | Yes | Account unique identifier |\n\n### Response\n\n#### Response Structure\n| Key | Type | Description |\n|-----|------|-------------|\n| key | string | Response status key, always \"success\" for 200 |\n| msg | string | Response message in Arabic, default \"تم بنجاح\" |\n| data | object | Account object |\n\n#### Account Object Structure\n| Key | Type | Description |\n|-----|------|-------------|\n| id | integer | Account unique identifier |\n| user_id | integer | User ID that owns this account |\n| bank_name | string | Bank name (max 50 characters) |\n| bank_account_name | string | Account holder name (max 100 characters) |\n| bank_account_number | string | Bank account number (max 50 characters) |\n| bank_iban_number | string | IBAN number (max 50 characters) |\n| balance | decimal | Account balance (decimal with 2 decimal places, minimum 0) |\n| created_at | string | Formatted creation timestamp (Y-m-d H:i:s) |\n\n#### Example Response (200 OK)\n```json\n{\n    \"key\": \"success\",\n    \"msg\": \"تم بنجاح\",\n    \"data\": {\n        \"id\": 1,\n        \"user_id\": 1,\n        \"bank_name\": \"Example Bank Inc\",\n        \"bank_account_name\": \"John Doe\",\n        \"bank_account_number\": \"1234567890\",\n        \"bank_iban_number\": \"GB82WEST12345698765432\",\n        \"balance\": \"5000.00\",\n        \"created_at\": \"2026-01-30 10:00:00\"\n    }\n}\n```\n\n#### Status Codes\n- `200 OK`: Success - Returns account object\n- `400 Bad Request`: Failure - User not found, account not found, or ownership mismatch"
					},
					"response": [
						{
							"name": "Success - Get Account",
							"originalRequest": {
								"method": "GET",
								"header": [
									{
										"key": "Accept",
										"value": "application/json",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{base_url}}/api/users/1/accounts/1",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"users",
										"1",
										"accounts",
										"1"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n    \"key\": \"success\",\n    \"msg\": \"تم بنجاح\",\n    \"data\": {\n        \"id\": 1,\n        \"user_id\": 1,\n        \"bank_name\": \"Example Bank Inc\",\n        \"bank_account_name\": \"John Doe\",\n        \"bank_account_number\": \"1234567890\",\n        \"bank_iban_number\": \"GB82WEST12345698765432\",\n        \"balance\": \"5000.00\",\n        \"created_at\": \"2026-01-30 10:00:00\"\n    }\n}"
						},
						{
							"name": "Error - Account Not Found",
							"originalRequest": {
								"method": "GET",
								"header": [
									{
										"key": "Accept",
										"value": "application/json",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{base_url}}/api/users/1/accounts/999",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"users",
										"1",
										"accounts",
										"999"
									]
								}
							},
							"status": "Bad Request",
							"code": 400,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n    \"key\": \"failure\",\n    \"msg\": \"Account not found with ID: 999\",\n    \"data\": []\n}"
						},
						{
							"name": "Error - Ownership Mismatch",
							"originalRequest": {
								"method": "GET",
								"header": [
									{
										"key": "Accept",
										"value": "application/json",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{base_url}}/api/users/2/accounts/1",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"users",
										"2",
										"accounts",
										"1"
									]
								}
							},
							"status": "Bad Request",
							"code": 400,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n    \"key\": \"failure\",\n    \"msg\": \"Account does not belong to this user\",\n    \"data\": []\n}"
						}
					]
				},
				{
					"name": "Create Account",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"if (!pm.environment.get('base_url')) {",
									"    pm.environment.set('base_url', 'http://localhost:8000');",
									"}"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('Status code is 200', function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test('Response has correct structure', function () {",
									"    const jsonData = pm.response.json();",
									"    pm.expect(jsonData).to.have.property('key');",
									"    pm.expect(jsonData).to.have.property('msg');",
									"    pm.expect(jsonData).to.have.property('data');",
									"    pm.expect(jsonData.key).to.eql('success');",
									"});",
									"",
									"pm.test('Data contains account object', function () {",
									"    const jsonData = pm.response.json();",
									"    pm.expect(jsonData.data).to.be.an('object');",
									"    pm.expect(jsonData.data).to.have.property('id');",
									"    pm.expect(jsonData.data).to.have.property('user_id');",
									"    pm.expect(jsonData.data).to.have.property('bank_name');",
									"    pm.expect(jsonData.data).to.have.property('bank_account_name');",
									"    pm.expect(jsonData.data).to.have.property('bank_account_number');",
									"    pm.expect(jsonData.data).to.have.property('bank_iban_number');",
									"    pm.expect(jsonData.data).to.have.property('balance');",
									"    pm.expect(jsonData.data).to.have.property('created_at');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "bank_name",
									"value": "Example Bank Inc",
									"type": "text",
									"description": "Bank name. Required. Must be a string with maximum 50 characters."
								},
								{
									"key": "bank_account_name",
									"value": "John Doe",
									"type": "text",
									"description": "Account holder name. Required. Must be a string with maximum 100 characters."
								},
								{
									"key": "bank_account_number",
									"value": "1234567890",
									"type": "text",
									"description": "Bank account number. Required. Must be a string with maximum 50 characters."
								},
								{
									"key": "bank_iban_number",
									"value": "GB82WEST12345698765432",
									"type": "text",
									"description": "IBAN number. Required. Must be a string with maximum 50 characters."
								},
								{
									"key": "balance",
									"value": "5000.00",
									"type": "text",
									"description": "Account balance. Required. Must be a numeric value with minimum 0. Can be decimal with 2 decimal places."
								}
							]
						},
						"url": {
							"raw": "{{base_url}}/api/users/:user/accounts",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"users",
								":user",
								"accounts"
							],
							"variable": [
								{
									"key": "user",
									"value": "1",
									"description": "User ID"
								}
							]
						},
						"description": "## Documentation\n\n### Description\nCreates a new account for a specific user. All fields are required. The user_id is automatically set from the route parameter. The balance must be a numeric value greater than or equal to 0.\n\n### Notes\n- No authentication required\n- User ID must exist in the route parameter\n- All fields are required\n- Balance must be numeric and >= 0\n- User ID is automatically set from route parameter (cannot be changed in body)\n- Response follows ResponseTrait standard format\n- Account is returned using AccountResource for consistent formatting\n\n### Request\n- **URL**: `{{base_url}}/api/users/{user}/accounts`\n- **Method**: `POST`\n- **Content-Type**: `multipart/form-data`\n- **URL Parameters**:\n  | Parameter | Type | Required | Description |\n  |-----------|------|----------|-------------|\n  | user | integer | Yes | User ID to create account for |\n\n#### Body Parameters\n| Key | Type | Required | Validation Rules |\n|-----|------|----------|-----------------|\n| bank_name | string | Yes | Required, string, max:50 |\n| bank_account_name | string | Yes | Required, string, max:100 |\n| bank_account_number | string | Yes | Required, string, max:50 |\n| bank_iban_number | string | Yes | Required, string, max:50 |\n| balance | numeric | Yes | Required, numeric, min:0 |\n\n### Response\n\n#### Response Structure\n| Key | Type | Description |\n|-----|------|-------------|\n| key | string | Response status key, always \"success\" for 200 |\n| msg | string | Response message in Arabic, default \"تم بنجاح\" |\n| data | object | Created account object |\n\n#### Account Object Structure\n| Key | Type | Description |\n|-----|------|-------------|\n| id | integer | Account unique identifier |\n| user_id | integer | User ID that owns this account |\n| bank_name | string | Bank name (max 50 characters) |\n| bank_account_name | string | Account holder name (max 100 characters) |\n| bank_account_number | string | Bank account number (max 50 characters) |\n| bank_iban_number | string | IBAN number (max 50 characters) |\n| balance | decimal | Account balance (decimal with 2 decimal places, minimum 0) |\n| created_at | string | Formatted creation timestamp (Y-m-d H:i:s) |\n\n#### Example Response (200 OK)\n```json\n{\n    \"key\": \"success\",\n    \"msg\": \"تم بنجاح\",\n    \"data\": {\n        \"id\": 1,\n        \"user_id\": 1,\n        \"bank_name\": \"Example Bank Inc\",\n        \"bank_account_name\": \"John Doe\",\n        \"bank_account_number\": \"1234567890\",\n        \"bank_iban_number\": \"GB82WEST12345698765432\",\n        \"balance\": \"5000.00\",\n        \"created_at\": \"2026-01-30 10:00:00\"\n    }\n}\n```\n\n#### Status Codes\n- `200 OK`: Success - Account created and returned\n- `400 Bad Request`: Failure - Error message in response\n- `422 Unprocessable Entity`: Validation errors - Laravel validation error structure"
					},
					"response": [
						{
							"name": "Success - Account Created",
							"originalRequest": {
								"method": "POST",
								"header": [
									{
										"key": "Accept",
										"value": "application/json",
										"type": "text"
									}
								],
								"body": {
									"mode": "formdata",
									"formdata": [
										{
											"key": "bank_name",
											"value": "Example Bank Inc",
											"type": "text"
										},
										{
											"key": "bank_account_name",
											"value": "John Doe",
											"type": "text"
										},
										{
											"key": "bank_account_number",
											"value": "1234567890",
											"type": "text"
										},
										{
											"key": "bank_iban_number",
											"value": "GB82WEST12345698765432",
											"type": "text"
										},
										{
											"key": "balance",
											"value": "5000.00",
											"type": "text"
										}
									]
								},
								"url": {
									"raw": "{{base_url}}/api/users/1/accounts",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"users",
										"1",
										"accounts"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n    \"key\": \"success\",\n    \"msg\": \"تم بنجاح\",\n    \"data\": {\n        \"id\": 1,\n        \"user_id\": 1,\n        \"bank_name\": \"Example Bank Inc\",\n        \"bank_account_name\": \"John Doe\",\n        \"bank_account_number\": \"1234567890\",\n        \"bank_iban_number\": \"GB82WEST12345698765432\",\n        \"balance\": \"5000.00\",\n        \"created_at\": \"2026-01-30 10:00:00\"\n    }\n}"
						},
						{
							"name": "Error - Validation Failed",
							"originalRequest": {
								"method": "POST",
								"header": [
									{
										"key": "Accept",
										"value": "application/json",
										"type": "text"
									}
								],
								"body": {
									"mode": "formdata",
									"formdata": [
										{
											"key": "bank_name",
											"value": "",
											"type": "text"
										},
										{
											"key": "balance",
											"value": "-100",
											"type": "text"
										}
									]
								},
								"url": {
									"raw": "{{base_url}}/api/users/1/accounts",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"users",
										"1",
										"accounts"
									]
								}
							},
							"status": "Unprocessable Entity",
							"code": 422,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n    \"message\": \"The bank name field is required. (and 4 more errors)\",\n    \"errors\": {\n        \"bank_name\": [\"The bank name field is required.\"],\n        \"bank_account_name\": [\"The bank account name field is required.\"],\n        \"bank_account_number\": [\"The bank account number field is required.\"],\n        \"bank_iban_number\": [\"The bank iban number field is required.\"],\n        \"balance\": [\"The balance must be at least 0.\"]\n    }\n}"
						},
						{
							"name": "Error - Failure Response",
							"originalRequest": {
								"method": "POST",
								"header": [
									{
										"key": "Accept",
										"value": "application/json",
										"type": "text"
									}
								],
								"body": {
									"mode": "formdata",
									"formdata": [
										{
											"key": "bank_name",
											"value": "Example Bank Inc",
											"type": "text"
										},
										{
											"key": "bank_account_name",
											"value": "John Doe",
											"type": "text"
										},
										{
											"key": "bank_account_number",
											"value": "1234567890",
											"type": "text"
										},
										{
											"key": "bank_iban_number",
											"value": "GB82WEST12345698765432",
											"type": "text"
										},
										{
											"key": "balance",
											"value": "5000.00",
											"type": "text"
										}
									]
								},
								"url": {
									"raw": "{{base_url}}/api/users/1/accounts",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"users",
										"1",
										"accounts"
									]
								}
							},
							"status": "Bad Request",
							"code": 400,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n    \"key\": \"failure\",\n    \"msg\": \"Error message\",\n    \"data\": []\n}"
						}
					]
				},
				{
					"name": "Update Account",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"if (!pm.environment.get('base_url')) {",
									"    pm.environment.set('base_url', 'http://localhost:8000');",
									"}"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('Status code is 200', function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test('Response has correct structure', function () {",
									"    const jsonData = pm.response.json();",
									"    pm.expect(jsonData).to.have.property('key');",
									"    pm.expect(jsonData).to.have.property('msg');",
									"    pm.expect(jsonData).to.have.property('data');",
									"    pm.expect(jsonData.key).to.eql('success');",
									"});",
									"",
									"pm.test('Data contains account object', function () {",
									"    const jsonData = pm.response.json();",
									"    pm.expect(jsonData.data).to.be.an('object');",
									"    pm.expect(jsonData.data).to.have.property('id');",
									"    pm.expect(jsonData.data).to.have.property('user_id');",
									"    pm.expect(jsonData.data).to.have.property('bank_name');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "bank_name",
									"value": "Updated Bank Inc",
									"type": "text",
									"description": "Bank name. Optional. Must be a string with maximum 50 characters. Only include if updating this field."
								},
								{
									"key": "bank_account_name",
									"value": "John Doe Updated",
									"type": "text",
									"description": "Account holder name. Optional. Must be a string with maximum 100 characters. Only include if updating this field."
								},
								{
									"key": "bank_account_number",
									"value": "9876543210",
									"type": "text",
									"description": "Bank account number. Optional. Must be a string with maximum 50 characters. Only include if updating this field."
								},
								{
									"key": "bank_iban_number",
									"value": "US64SVBKUS6S3300958879",
									"type": "text",
									"description": "IBAN number. Optional. Must be a string with maximum 50 characters. Only include if updating this field."
								}
							]
						},
						"url": {
							"raw": "{{base_url}}/api/users/:user/accounts/:account",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"users",
								":user",
								"accounts",
								":account"
							],
							"variable": [
								{
									"key": "user",
									"value": "1",
									"description": "User ID"
								},
								{
									"key": "account",
									"value": "1",
									"description": "Account ID"
								}
							]
						},
						"description": "## Documentation\n\n### Description\nUpdates an existing account by its unique identifier for a specific user. All fields are optional - only include the fields you want to update. The account must belong to the specified user, otherwise an error is returned. Note: Balance cannot be updated through this endpoint (balance updates are restricted to transactions only).\n\n### Notes\n- No authentication required\n- User ID must exist\n- Account must belong to the specified user (ownership verification)\n- All fields are optional (use 'sometimes' validation)\n- Balance field is NOT allowed in update (excluded from validation rules)\n- Balance can only be updated through transactions, not directly\n- Response follows ResponseTrait standard format\n- Account is returned using AccountResource for consistent formatting\n\n### Request\n- **URL**: `{{base_url}}/api/users/{user}/accounts/{account}`\n- **Method**: `PUT`\n- **Content-Type**: `multipart/form-data`\n- **URL Parameters**:\n  | Parameter | Type | Required | Description |\n  |-----------|------|----------|-------------|\n  | user | integer | Yes | User ID that owns the account |\n  | account | integer | Yes | Account unique identifier |\n\n#### Body Parameters\n| Key | Type | Required | Validation Rules |\n|-----|------|----------|-----------------|\n| bank_name | string | No | Sometimes, string, max:50 |\n| bank_account_name | string | No | Sometimes, string, max:100 |\n| bank_account_number | string | No | Sometimes, string, max:50 |\n| bank_iban_number | string | No | Sometimes, string, max:50 |\n\n**Note**: Balance field is NOT allowed in update requests.\n\n### Response\n\n#### Response Structure\n| Key | Type | Description |\n|-----|------|-------------|\n| key | string | Response status key, always \"success\" for 200 |\n| msg | string | Response message in Arabic, default \"تم بنجاح\" |\n| data | object | Updated account object |\n\n#### Account Object Structure\n| Key | Type | Description |\n|-----|------|-------------|\n| id | integer | Account unique identifier |\n| user_id | integer | User ID that owns this account |\n| bank_name | string | Bank name (max 50 characters) |\n| bank_account_name | string | Account holder name (max 100 characters) |\n| bank_account_number | string | Bank account number (max 50 characters) |\n| bank_iban_number | string | IBAN number (max 50 characters) |\n| balance | decimal | Account balance (decimal with 2 decimal places, minimum 0) |\n| created_at | string | Formatted creation timestamp (Y-m-d H:i:s) |\n\n#### Example Response (200 OK)\n```json\n{\n    \"key\": \"success\",\n    \"msg\": \"تم بنجاح\",\n    \"data\": {\n        \"id\": 1,\n        \"user_id\": 1,\n        \"bank_name\": \"Updated Bank Inc\",\n        \"bank_account_name\": \"John Doe Updated\",\n        \"bank_account_number\": \"9876543210\",\n        \"bank_iban_number\": \"US64SVBKUS6S3300958879\",\n        \"balance\": \"5000.00\",\n        \"created_at\": \"2026-01-30 10:00:00\"\n    }\n}\n```\n\n#### Status Codes\n- `200 OK`: Success - Account updated and returned\n- `400 Bad Request`: Failure - User not found, account not found, or ownership mismatch\n- `422 Unprocessable Entity`: Validation errors - Laravel validation error structure"
					},
					"response": [
						{
							"name": "Success - Account Updated",
							"originalRequest": {
								"method": "PUT",
								"header": [
									{
										"key": "Accept",
										"value": "application/json",
										"type": "text"
									}
								],
								"body": {
									"mode": "formdata",
									"formdata": [
										{
											"key": "bank_name",
											"value": "Updated Bank Inc",
											"type": "text"
										},
										{
											"key": "bank_account_name",
											"value": "John Doe Updated",
											"type": "text"
										}
									]
								},
								"url": {
									"raw": "{{base_url}}/api/users/1/accounts/1",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"users",
										"1",
										"accounts",
										"1"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n    \"key\": \"success\",\n    \"msg\": \"تم بنجاح\",\n    \"data\": {\n        \"id\": 1,\n        \"user_id\": 1,\n        \"bank_name\": \"Updated Bank Inc\",\n        \"bank_account_name\": \"John Doe Updated\",\n        \"bank_account_number\": \"1234567890\",\n        \"bank_iban_number\": \"GB82WEST12345698765432\",\n        \"balance\": \"5000.00\",\n        \"created_at\": \"2026-01-30 10:00:00\"\n    }\n}"
						},
						{
							"name": "Error - Validation Failed",
							"originalRequest": {
								"method": "PUT",
								"header": [
									{
										"key": "Accept",
										"value": "application/json",
										"type": "text"
									}
								],
								"body": {
									"mode": "formdata",
									"formdata": [
										{
											"key": "bank_name",
											"value": "A very long bank name that exceeds the maximum allowed length of 50 characters",
											"type": "text"
										}
									]
								},
								"url": {
									"raw": "{{base_url}}/api/users/1/accounts/1",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"users",
										"1",
										"accounts",
										"1"
									]
								}
							},
							"status": "Unprocessable Entity",
							"code": 422,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n    \"message\": \"The bank name may not be greater than 50 characters.\",\n    \"errors\": {\n        \"bank_name\": [\"The bank name may not be greater than 50 characters.\"]\n    }\n}"
						},
						{
							"name": "Error - Account Not Found",
							"originalRequest": {
								"method": "PUT",
								"header": [
									{
										"key": "Accept",
										"value": "application/json",
										"type": "text"
									}
								],
								"body": {
									"mode": "formdata",
									"formdata": [
										{
											"key": "bank_name",
											"value": "Updated Bank Inc",
											"type": "text"
										}
									]
								},
								"url": {
									"raw": "{{base_url}}/api/users/1/accounts/999",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"users",
										"1",
										"accounts",
										"999"
									]
								}
							},
							"status": "Bad Request",
							"code": 400,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n    \"key\": \"failure\",\n    \"msg\": \"Account not found with ID: 999\",\n    \"data\": []\n}"
						},
						{
							"name": "Error - Ownership Mismatch",
							"originalRequest": {
								"method": "PUT",
								"header": [
									{
										"key": "Accept",
										"value": "application/json",
										"type": "text"
									}
								],
								"body": {
									"mode": "formdata",
									"formdata": [
										{
											"key": "bank_name",
											"value": "Updated Bank Inc",
											"type": "text"
										}
									]
								},
								"url": {
									"raw": "{{base_url}}/api/users/2/accounts/1",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"users",
										"2",
										"accounts",
										"1"
									]
								}
							},
							"status": "Bad Request",
							"code": 400,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n    \"key\": \"failure\",\n    \"msg\": \"Account does not belong to this user\",\n    \"data\": []\n}"
						}
					]
				},
				{
					"name": "Delete Account",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"if (!pm.environment.get('base_url')) {",
									"    pm.environment.set('base_url', 'http://localhost:8000');",
									"}"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('Status code is 200', function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test('Response has correct structure', function () {",
									"    const jsonData = pm.response.json();",
									"    pm.expect(jsonData).to.have.property('key');",
									"    pm.expect(jsonData).to.have.property('msg');",
									"    pm.expect(jsonData).to.have.property('data');",
									"    pm.expect(jsonData.key).to.eql('success');",
									"});",
									"",
									"pm.test('Success message is correct', function () {",
									"    const jsonData = pm.response.json();",
									"    pm.expect(jsonData.msg).to.eql('تم حذف الحساب بنجاح');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/users/:user/accounts/:account",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"users",
								":user",
								"accounts",
								":account"
							],
							"variable": [
								{
									"key": "user",
									"value": "1",
									"description": "User ID"
								},
								{
									"key": "account",
									"value": "1",
									"description": "Account ID"
								}
							]
						},
						"description": "## Documentation\n\n### Description\nSoft deletes an account by its unique identifier for a specific user. The account is not physically removed from the database but marked as deleted. The account will be excluded from future queries. The account must belong to the specified user, otherwise an error is returned.\n\n### Notes\n- No authentication required\n- User ID must exist\n- Account must belong to the specified user (ownership verification)\n- Performs soft delete (not physical deletion)\n- Account will be excluded from future queries\n- Response follows ResponseTrait standard format\n\n### Request\n- **URL**: `{{base_url}}/api/users/{user}/accounts/{account}`\n- **Method**: `DELETE`\n- **Content-Type**: `application/json`\n- **URL Parameters**:\n  | Parameter | Type | Required | Description |\n  |-----------|------|----------|-------------|\n  | user | integer | Yes | User ID that owns the account |\n  | account | integer | Yes | Account unique identifier |\n\n### Response\n\n#### Response Structure\n| Key | Type | Description |\n|-----|------|-------------|\n| key | string | Response status key, always \"success\" for 200 |\n| msg | string | Response message in Arabic: \"تم حذف الحساب بنجاح\" |\n| data | array | Empty array |\n\n#### Example Response (200 OK)\n```json\n{\n    \"key\": \"success\",\n    \"msg\": \"تم حذف الحساب بنجاح\",\n    \"data\": []\n}\n```\n\n#### Status Codes\n- `200 OK`: Success - Account soft-deleted\n- `400 Bad Request`: Failure - User not found, account not found, or ownership mismatch"
					},
					"response": [
						{
							"name": "Success - Account Deleted",
							"originalRequest": {
								"method": "DELETE",
								"header": [
									{
										"key": "Accept",
										"value": "application/json",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{base_url}}/api/users/1/accounts/1",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"users",
										"1",
										"accounts",
										"1"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n    \"key\": \"success\",\n    \"msg\": \"تم حذف الحساب بنجاح\",\n    \"data\": []\n}"
						},
						{
							"name": "Error - Account Not Found",
							"originalRequest": {
								"method": "DELETE",
								"header": [
									{
										"key": "Accept",
										"value": "application/json",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{base_url}}/api/users/1/accounts/999",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"users",
										"1",
										"accounts",
										"999"
									]
								}
							},
							"status": "Bad Request",
							"code": 400,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n    \"key\": \"failure\",\n    \"msg\": \"Account not found with ID: 999\",\n    \"data\": []\n}"
						},
						{
							"name": "Error - Ownership Mismatch",
							"originalRequest": {
								"method": "DELETE",
								"header": [
									{
										"key": "Accept",
										"value": "application/json",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{base_url}}/api/users/2/accounts/1",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"users",
										"2",
										"accounts",
										"1"
									]
								}
							},
							"status": "Bad Request",
							"code": 400,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n    \"key\": \"failure\",\n    \"msg\": \"Account does not belong to this user\",\n    \"data\": []\n}"
						}
					]
				}
			]
		}
	]
}

