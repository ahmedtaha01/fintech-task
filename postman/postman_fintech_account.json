{
	"info": {
		"_postman_id": "fintech-accounts-collection-2026",
		"name": "fintech",
		"description": "Fintech API - Account Management Endpoints",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "fintech"
	},
	"item": [
		{
			"name": "Account",
			"item": [
				{
					"name": "List All Accounts for User",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"if (!pm.environment.get('base_url')) {",
									"    pm.environment.set('base_url', 'http://localhost:8000');",
									"}"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('Status code is 200', function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test('Response has correct structure', function () {",
									"    const jsonData = pm.response.json();",
									"    pm.expect(jsonData).to.have.property('key');",
									"    pm.expect(jsonData).to.have.property('msg');",
									"    pm.expect(jsonData).to.have.property('data');",
									"    pm.expect(jsonData.key).to.eql('success');",
									"});",
									"",
									"pm.test('Data is an array', function () {",
									"    const jsonData = pm.response.json();",
									"    pm.expect(jsonData.data).to.be.an('array');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/users/:user/accounts",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"users",
								":user",
								"accounts"
							],
							"variable": [
								{
									"key": "user",
									"value": "1",
									"description": "User ID"
								}
							]
						},
						"description": "## Documentation\n\n### Description\nRetrieves a list of all accounts belonging to a specific user. Returns an array of account objects with their details. Soft-deleted accounts are excluded from the results.\n\n### Notes\n- No authentication required\n- Returns all active accounts for the specified user only (soft-deleted accounts excluded)\n- Response follows ResponseTrait standard format\n- Accounts are automatically scoped to the user from the route parameter\n\n### Request\n- **URL**: `{{base_url}}/api/users/{user}/accounts`\n- **Method**: `GET`\n- **Content-Type**: `application/json`\n- **URL Parameters**:\n  | Parameter | Type | Required | Description |\n  |-----------|------|----------|-------------|\n  | user | integer | Yes | User ID to retrieve accounts for |\n\n### Response\n\n#### Response Structure\n| Key | Type | Description |\n|-----|------|-------------|\n| key | string | Response status key, always \"success\" for 200 |\n| msg | string | Response message in Arabic, default \"تم بنجاح\" |\n| data | array | Array of account objects |\n\n#### Account Object Structure\n| Key | Type | Description |\n|-----|------|-------------|\n| id | integer | Account unique identifier |\n| bank_name | string | Bank name (max 50 characters) |\n| bank_account_name | string | Account holder name (max 100 characters) |\n| bank_account_number | string | Bank account number (max 50 characters) |\n| bank_iban_number | string | IBAN number (max 50 characters) |\n| balance | decimal | Account balance (decimal with 2 decimal places) |\n| created_at | string | ISO 8601 timestamp of creation |\n| updated_at | string | ISO 8601 timestamp of last update |\n\n#### Example Response (200 OK)\n```json\n{\n    \"key\": \"success\",\n    \"msg\": \"تم بنجاح\",\n    \"data\": [\n        {\n            \"id\": 1,\n            \"bank_name\": \"Example Bank\",\n            \"bank_account_name\": \"John Doe\",\n            \"bank_account_number\": \"1234567890\",\n            \"bank_iban_number\": \"GB82WEST12345698765432\",\n            \"balance\": \"5000.00\",\n            \"created_at\": \"2026-01-30T10:00:00.000000Z\",\n            \"updated_at\": \"2026-01-30T10:00:00.000000Z\"\n        }\n    ]\n}\n```\n\n#### Status Codes\n- `200 OK`: Success - Returns array of accounts\n- `400 Bad Request`: Failure - Error message in response"
					},
					"response": [
						{
							"name": "Success - List Accounts",
							"originalRequest": {
								"method": "GET",
								"header": [
									{
										"key": "Accept",
										"value": "application/json",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{base_url}}/api/users/1/accounts",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"users",
										"1",
										"accounts"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n    \"key\": \"success\",\n    \"msg\": \"تم بنجاح\",\n    \"data\": [\n        {\n            \"id\": 1,\n            \"bank_name\": \"Example Bank\",\n            \"bank_account_name\": \"John Doe\",\n            \"bank_account_number\": \"1234567890\",\n            \"bank_iban_number\": \"GB82WEST12345698765432\",\n            \"balance\": \"5000.00\",\n            \"created_at\": \"2026-01-30T10:00:00.000000Z\",\n            \"updated_at\": \"2026-01-30T10:00:00.000000Z\"\n        },\n        {\n            \"id\": 2,\n            \"bank_name\": \"Another Bank\",\n            \"bank_account_name\": \"John Doe\",\n            \"bank_account_number\": \"0987654321\",\n            \"bank_iban_number\": \"US64SVBKUS6S3300958879\",\n            \"balance\": \"2500.50\",\n            \"created_at\": \"2026-01-30T10:00:00.000000Z\",\n            \"updated_at\": \"2026-01-30T10:00:00.000000Z\"\n        }\n    ]\n}"
						},
						{
							"name": "Error - Failure Response",
							"originalRequest": {
								"method": "GET",
								"header": [
									{
										"key": "Accept",
										"value": "application/json",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{base_url}}/api/users/1/accounts",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"users",
										"1",
										"accounts"
									]
								}
							},
							"status": "Bad Request",
							"code": 400,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n    \"key\": \"failure\",\n    \"msg\": \"Error message\",\n    \"data\": []\n}"
						}
					]
				},
				{
					"name": "Get Account by ID",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"if (!pm.environment.get('base_url')) {",
									"    pm.environment.set('base_url', 'http://localhost:8000');",
									"}"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('Status code is 200', function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test('Response has correct structure', function () {",
									"    const jsonData = pm.response.json();",
									"    pm.expect(jsonData).to.have.property('key');",
									"    pm.expect(jsonData).to.have.property('msg');",
									"    pm.expect(jsonData).to.have.property('data');",
									"    pm.expect(jsonData.key).to.eql('success');",
									"});",
									"",
									"pm.test('Data contains account object', function () {",
									"    const jsonData = pm.response.json();",
									"    pm.expect(jsonData.data).to.be.an('object');",
									"    pm.expect(jsonData.data).to.have.property('id');",
									"    pm.expect(jsonData.data).to.have.property('bank_name');",
									"    pm.expect(jsonData.data).to.have.property('balance');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/users/:user/accounts/:account",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"users",
								":user",
								"accounts",
								":account"
							],
							"variable": [
								{
									"key": "user",
									"value": "1",
									"description": "User ID"
								},
								{
									"key": "account",
									"value": "1",
									"description": "Account ID"
								}
							]
						},
						"description": "## Documentation\n\n### Description\nRetrieves a specific account by its unique identifier (ID). The account must belong to the specified user from the route parameter. Returns a single account object with all account details.\n\n### Notes\n- No authentication required\n- Account ID must be a valid integer\n- Account must belong to the user specified in the route (ownership verification)\n- Soft-deleted accounts are not returned\n- If account is not found or doesn't belong to user, returns failure response with status 400\n- Response follows ResponseTrait standard format\n\n### Request\n- **URL**: `{{base_url}}/api/users/{user}/accounts/{account}`\n- **Method**: `GET`\n- **Content-Type**: `application/json`\n- **URL Parameters**:\n  | Parameter | Type | Required | Description |\n  |-----------|------|----------|-------------|\n  | user | integer | Yes | User ID (must own the account) |\n  | account | integer | Yes | Account ID to retrieve |\n\n### Response\n\n#### Response Structure\n| Key | Type | Description |\n|-----|------|-------------|\n| key | string | Response status key (\"success\" or \"failure\") |\n| msg | string | Response message in Arabic |\n| data | object | Account object |\n\n#### Account Object Structure\n| Key | Type | Description |\n|-----|------|-------------|\n| id | integer | Account unique identifier |\n| bank_name | string | Bank name (max 50 chars) |\n| bank_account_name | string | Account holder name (max 100 chars) |\n| bank_account_number | string | Bank account number (max 50 chars) |\n| bank_iban_number | string | IBAN number (max 50 chars) |\n| balance | decimal | Account balance (decimal with 2 decimal places) |\n| created_at | string | ISO 8601 timestamp of creation |\n| updated_at | string | ISO 8601 timestamp of last update |\n\n#### Example Response (200 OK)\n```json\n{\n    \"key\": \"success\",\n    \"msg\": \"تم بنجاح\",\n    \"data\": {\n        \"id\": 1,\n        \"bank_name\": \"Example Bank\",\n        \"bank_account_name\": \"John Doe\",\n        \"bank_account_number\": \"1234567890\",\n        \"bank_iban_number\": \"GB82WEST12345698765432\",\n        \"balance\": \"5000.00\",\n        \"created_at\": \"2026-01-30T10:00:00.000000Z\",\n        \"updated_at\": \"2026-01-30T10:00:00.000000Z\"\n    }\n}\n```\n\n#### Status Codes\n- `200 OK`: Success - Returns account object\n- `400 Bad Request`: Failure - Account not found, doesn't belong to user, or error occurred"
					},
					"response": [
						{
							"name": "Success - Get Account",
							"originalRequest": {
								"method": "GET",
								"header": [
									{
										"key": "Accept",
										"value": "application/json",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{base_url}}/api/users/1/accounts/1",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"users",
										"1",
										"accounts",
										"1"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n    \"key\": \"success\",\n    \"msg\": \"تم بنجاح\",\n    \"data\": {\n        \"id\": 1,\n        \"bank_name\": \"Example Bank\",\n        \"bank_account_name\": \"John Doe\",\n        \"bank_account_number\": \"1234567890\",\n        \"bank_iban_number\": \"GB82WEST12345698765432\",\n        \"balance\": \"5000.00\",\n        \"created_at\": \"2026-01-30T10:00:00.000000Z\",\n        \"updated_at\": \"2026-01-30T10:00:00.000000Z\"\n    }\n}"
						},
						{
							"name": "Error - Account Not Found",
							"originalRequest": {
								"method": "GET",
								"header": [
									{
										"key": "Accept",
										"value": "application/json",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{base_url}}/api/users/1/accounts/999",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"users",
										"1",
										"accounts",
										"999"
									]
								}
							},
							"status": "Bad Request",
							"code": 400,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n    \"key\": \"failure\",\n    \"msg\": \"Account not found with ID: 999\",\n    \"data\": []\n}"
						},
						{
							"name": "Error - Account Ownership Mismatch",
							"originalRequest": {
								"method": "GET",
								"header": [
									{
										"key": "Accept",
										"value": "application/json",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{base_url}}/api/users/2/accounts/1",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"users",
										"2",
										"accounts",
										"1"
									]
								}
							},
							"status": "Bad Request",
							"code": 400,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n    \"key\": \"failure\",\n    \"msg\": \"الحساب لا ينتمي إلى هذا المستخدم\",\n    \"data\": []\n}"
						}
					]
				},
				{
					"name": "Create Account",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"if (!pm.environment.get('base_url')) {",
									"    pm.environment.set('base_url', 'http://localhost:8000');",
									"}"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    pm.test('Status code is 200', function () {",
									"        pm.response.to.have.status(200);",
									"    });",
									"    ",
									"    pm.test('Response has correct structure', function () {",
									"        const jsonData = pm.response.json();",
									"        pm.expect(jsonData).to.have.property('key');",
									"        pm.expect(jsonData).to.have.property('msg');",
									"        pm.expect(jsonData).to.have.property('data');",
									"        pm.expect(jsonData.key).to.eql('success');",
									"    });",
									"    ",
									"    pm.test('Data contains created account', function () {",
									"        const jsonData = pm.response.json();",
									"        pm.expect(jsonData.data).to.be.an('object');",
									"        pm.expect(jsonData.data).to.have.property('id');",
									"        pm.expect(jsonData.data).to.have.property('bank_name');",
									"        pm.expect(jsonData.data).to.have.property('balance');",
									"    });",
									"} else if (pm.response.code === 422) {",
									"    pm.test('Status code is 422', function () {",
									"        pm.response.to.have.status(422);",
									"    });",
									"    ",
									"    pm.test('Validation errors structure', function () {",
									"        const jsonData = pm.response.json();",
									"        pm.expect(jsonData).to.have.property('message');",
									"        pm.expect(jsonData).to.have.property('errors');",
									"        pm.expect(jsonData.errors).to.be.an('object');",
									"    });",
									"} else {",
									"    pm.test('Status code is 400', function () {",
									"        pm.response.to.have.status(400);",
									"    });",
									"    ",
									"    pm.test('Failure response structure', function () {",
									"        const jsonData = pm.response.json();",
									"        pm.expect(jsonData).to.have.property('key');",
									"        pm.expect(jsonData).to.have.property('msg');",
									"        pm.expect(jsonData).to.have.property('data');",
									"        pm.expect(jsonData.key).to.eql('failure');",
									"    });",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "bank_name",
									"value": "Example Bank",
									"type": "text",
									"description": "Required. String type. Maximum 50 characters. Name of the bank."
								},
								{
									"key": "bank_account_name",
									"value": "John Doe",
									"type": "text",
									"description": "Required. String type. Maximum 100 characters. Account holder's name."
								},
								{
									"key": "bank_account_number",
									"value": "1234567890",
									"type": "text",
									"description": "Required. String type. Maximum 50 characters. Bank account number."
								},
								{
									"key": "bank_iban_number",
									"value": "GB82WEST12345698765432",
									"type": "text",
									"description": "Required. String type. Maximum 50 characters. IBAN (International Bank Account Number)."
								},
								{
									"key": "balance",
									"value": "5000.00",
									"type": "text",
									"description": "Required. Numeric type. Minimum value 0. Initial account balance. Balance can only be modified through transactions, not via update endpoint."
								}
							]
						},
						"url": {
							"raw": "{{base_url}}/api/users/:user/accounts",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"users",
								":user",
								"accounts"
							],
							"variable": [
								{
									"key": "user",
									"value": "1",
									"description": "User ID"
								}
							]
						},
						"description": "## Documentation\n\n### Description\nCreates a new account for the specified user. All fields are required for account creation. The user_id is automatically extracted from the route parameter and does not need to be sent in the request body.\n\n### Notes\n- No authentication required\n- All fields are required (bank_name, bank_account_name, bank_account_number, bank_iban_number, balance)\n- user_id is automatically set from the route parameter (not sent in body)\n- Balance must be a positive number (minimum 0)\n- Balance can only be modified through transactions, not via the update endpoint\n- Validation occurs before account creation\n- Response follows ResponseTrait standard format\n\n### Request\n- **URL**: `{{base_url}}/api/users/{user}/accounts`\n- **Method**: `POST`\n- **Content-Type**: `multipart/form-data`\n- **URL Parameters**:\n  | Parameter | Type | Required | Description |\n  |-----------|------|----------|-------------|\n  | user | integer | Yes | User ID to create account for |\n- **Body Parameters**:\n  | Key | Type | Validation Rules | Description |\n  |-----|------|------------------|-------------|\n  | bank_name | string | required, string, max:50 | Name of the bank (maximum 50 characters) |\n  | bank_account_name | string | required, string, max:100 | Account holder's name (maximum 100 characters) |\n  | bank_account_number | string | required, string, max:50 | Bank account number (maximum 50 characters) |\n  | bank_iban_number | string | required, string, max:50 | IBAN number (maximum 50 characters) |\n  | balance | numeric | required, numeric, min:0 | Initial account balance (minimum 0) |\n\n### Response\n\n#### Response Structure\n| Key | Type | Description |\n|-----|------|-------------|\n| key | string | Response status key (\"success\" or \"failure\") |\n| msg | string | Response message in Arabic |\n| data | object | Created account object |\n\n#### Account Object Structure\n| Key | Type | Description |\n|-----|------|-------------|\n| id | integer | Account unique identifier |\n| bank_name | string | Bank name |\n| bank_account_name | string | Account holder name |\n| bank_account_number | string | Bank account number |\n| bank_iban_number | string | IBAN number |\n| balance | decimal | Account balance |\n| created_at | string | ISO 8601 timestamp of creation |\n| updated_at | string | ISO 8601 timestamp of last update |\n\n#### Example Response (200 OK)\n```json\n{\n    \"key\": \"success\",\n    \"msg\": \"تم بنجاح\",\n    \"data\": {\n        \"id\": 1,\n        \"bank_name\": \"Example Bank\",\n        \"bank_account_name\": \"John Doe\",\n        \"bank_account_number\": \"1234567890\",\n        \"bank_iban_number\": \"GB82WEST12345698765432\",\n        \"balance\": \"5000.00\",\n        \"created_at\": \"2026-01-30T10:00:00.000000Z\",\n        \"updated_at\": \"2026-01-30T10:00:00.000000Z\"\n    }\n}\n```\n\n#### Status Codes\n- `200 OK`: Success - Account created successfully\n- `400 Bad Request`: Failure - Error message in response\n- `422 Unprocessable Entity`: Validation failed - Check errors object for field-specific messages"
					},
					"response": [
						{
							"name": "Success - Account Created",
							"originalRequest": {
								"method": "POST",
								"header": [
									{
										"key": "Accept",
										"value": "application/json",
										"type": "text"
									}
								],
								"body": {
									"mode": "formdata",
									"formdata": [
										{
											"key": "bank_name",
											"value": "Example Bank",
											"type": "text"
										},
										{
											"key": "bank_account_name",
											"value": "John Doe",
											"type": "text"
										},
										{
											"key": "bank_account_number",
											"value": "1234567890",
											"type": "text"
										},
										{
											"key": "bank_iban_number",
											"value": "GB82WEST12345698765432",
											"type": "text"
										},
										{
											"key": "balance",
											"value": "5000.00",
											"type": "text"
										}
									]
								},
								"url": {
									"raw": "{{base_url}}/api/users/1/accounts",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"users",
										"1",
										"accounts"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n    \"key\": \"success\",\n    \"msg\": \"تم بنجاح\",\n    \"data\": {\n        \"id\": 1,\n        \"bank_name\": \"Example Bank\",\n        \"bank_account_name\": \"John Doe\",\n        \"bank_account_number\": \"1234567890\",\n        \"bank_iban_number\": \"GB82WEST12345698765432\",\n        \"balance\": \"5000.00\",\n        \"created_at\": \"2026-01-30T10:00:00.000000Z\",\n        \"updated_at\": \"2026-01-30T10:00:00.000000Z\"\n    }\n}"
						},
						{
							"name": "Error - Validation Failed",
							"originalRequest": {
								"method": "POST",
								"header": [
									{
										"key": "Accept",
										"value": "application/json",
										"type": "text"
									}
								],
								"body": {
									"mode": "formdata",
									"formdata": [
										{
											"key": "bank_name",
											"value": "",
											"type": "text"
										},
										{
											"key": "bank_account_name",
											"value": "",
											"type": "text"
										},
										{
											"key": "bank_account_number",
											"value": "",
											"type": "text"
										},
										{
											"key": "bank_iban_number",
											"value": "",
											"type": "text"
										},
										{
											"key": "balance",
											"value": "-100",
											"type": "text"
										}
									]
								},
								"url": {
									"raw": "{{base_url}}/api/users/1/accounts",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"users",
										"1",
										"accounts"
									]
								}
							},
							"status": "Unprocessable Entity",
							"code": 422,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n    \"message\": \"The given data was invalid.\",\n    \"errors\": {\n        \"bank_name\": [\"The bank name field is required.\"],\n        \"bank_account_name\": [\"The bank account name field is required.\"],\n        \"bank_account_number\": [\"The bank account number field is required.\"],\n        \"bank_iban_number\": [\"The bank iban number field is required.\"],\n        \"balance\": [\"The balance must be at least 0.\"]\n    }\n}"
						},
						{
							"name": "Error - Failure Response",
							"originalRequest": {
								"method": "POST",
								"header": [
									{
										"key": "Accept",
										"value": "application/json",
										"type": "text"
									}
								],
								"body": {
									"mode": "formdata",
									"formdata": [
										{
											"key": "bank_name",
											"value": "Example Bank",
											"type": "text"
										},
										{
											"key": "bank_account_name",
											"value": "John Doe",
											"type": "text"
										},
										{
											"key": "bank_account_number",
											"value": "1234567890",
											"type": "text"
										},
										{
											"key": "bank_iban_number",
											"value": "GB82WEST12345698765432",
											"type": "text"
										},
										{
											"key": "balance",
											"value": "5000.00",
											"type": "text"
										}
									]
								},
								"url": {
									"raw": "{{base_url}}/api/users/1/accounts",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"users",
										"1",
										"accounts"
									]
								}
							},
							"status": "Bad Request",
							"code": 400,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n    \"key\": \"failure\",\n    \"msg\": \"Error message\",\n    \"data\": []\n}"
						}
					]
				},
				{
					"name": "Update Account",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"if (!pm.environment.get('base_url')) {",
									"    pm.environment.set('base_url', 'http://localhost:8000');",
									"}"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    pm.test('Status code is 200', function () {",
									"        pm.response.to.have.status(200);",
									"    });",
									"    ",
									"    pm.test('Response has correct structure', function () {",
									"        const jsonData = pm.response.json();",
									"        pm.expect(jsonData).to.have.property('key');",
									"        pm.expect(jsonData).to.have.property('msg');",
									"        pm.expect(jsonData).to.have.property('data');",
									"        pm.expect(jsonData.key).to.eql('success');",
									"    });",
									"    ",
									"    pm.test('Data contains updated account', function () {",
									"        const jsonData = pm.response.json();",
									"        pm.expect(jsonData.data).to.be.an('object');",
									"        pm.expect(jsonData.data).to.have.property('id');",
									"    });",
									"} else if (pm.response.code === 422) {",
									"    pm.test('Status code is 422', function () {",
									"        pm.response.to.have.status(422);",
									"    });",
									"    ",
									"    pm.test('Validation errors structure', function () {",
									"        const jsonData = pm.response.json();",
									"        pm.expect(jsonData).to.have.property('message');",
									"        pm.expect(jsonData).to.have.property('errors');",
									"        pm.expect(jsonData.errors).to.be.an('object');",
									"    });",
									"} else {",
									"    pm.test('Status code is 400', function () {",
									"        pm.response.to.have.status(400);",
									"    });",
									"    ",
									"    pm.test('Failure response structure', function () {",
									"        const jsonData = pm.response.json();",
									"        pm.expect(jsonData).to.have.property('key');",
									"        pm.expect(jsonData).to.have.property('msg');",
									"        pm.expect(jsonData).to.have.property('data');",
									"        pm.expect(jsonData.key).to.eql('failure');",
									"    });",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "bank_name",
									"value": "Updated Bank Name",
									"type": "text",
									"description": "Optional. String type. Maximum 50 characters. Name of the bank. Only sent if updating this field."
								},
								{
									"key": "bank_account_name",
									"value": "John Updated",
									"type": "text",
									"description": "Optional. String type. Maximum 100 characters. Account holder's name. Only sent if updating this field."
								},
								{
									"key": "bank_account_number",
									"value": "9876543210",
									"type": "text",
									"description": "Optional. String type. Maximum 50 characters. Bank account number. Only sent if updating this field."
								},
								{
									"key": "bank_iban_number",
									"value": "US64SVBKUS6S3300958879",
									"type": "text",
									"description": "Optional. String type. Maximum 50 characters. IBAN number. Only sent if updating this field."
								}
							]
						},
						"url": {
							"raw": "{{base_url}}/api/users/:user/accounts/:account",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"users",
								":user",
								"accounts",
								":account"
							],
							"variable": [
								{
									"key": "user",
									"value": "1",
									"description": "User ID"
								},
								{
									"key": "account",
									"value": "1",
									"description": "Account ID"
								}
							]
						},
						"description": "## Documentation\n\n### Description\nUpdates an existing account's information. All fields are optional - only include the fields you want to update (partial updates supported). The account must belong to the specified user from the route parameter. Balance field cannot be updated via this endpoint (only through transactions).\n\n### Notes\n- No authentication required\n- All fields are optional (partial updates supported)\n- Only send the fields you want to update\n- Account must belong to the user specified in the route (ownership verification)\n- Balance field is NOT included in update (only changed through transactions)\n- If account is not found or doesn't belong to user, returns failure response with status 400\n- Response follows ResponseTrait standard format\n\n### Request\n- **URL**: `{{base_url}}/api/users/{user}/accounts/{account}`\n- **Method**: `PUT`\n- **Content-Type**: `multipart/form-data`\n- **URL Parameters**:\n  | Parameter | Type | Required | Description |\n  |-----------|------|----------|-------------|\n  | user | integer | Yes | User ID (must own the account) |\n  | account | integer | Yes | Account ID to update |\n- **Body Parameters**:\n  | Key | Type | Validation Rules | Description |\n  |-----|------|------------------|-------------|\n  | bank_name | string | sometimes, string, max:50 | Bank name (maximum 50 characters) |\n  | bank_account_name | string | sometimes, string, max:100 | Account holder name (maximum 100 characters) |\n  | bank_account_number | string | sometimes, string, max:50 | Bank account number (maximum 50 characters) |\n  | bank_iban_number | string | sometimes, string, max:50 | IBAN number (maximum 50 characters) |\n\n### Response\n\n#### Response Structure\n| Key | Type | Description |\n|-----|------|-------------|\n| key | string | Response status key (\"success\" or \"failure\") |\n| msg | string | Response message in Arabic |\n| data | object | Updated account object |\n\n#### Account Object Structure\n| Key | Type | Description |\n|-----|------|-------------|\n| id | integer | Account unique identifier |\n| bank_name | string | Bank name |\n| bank_account_name | string | Account holder name |\n| bank_account_number | string | Bank account number |\n| bank_iban_number | string | IBAN number |\n| balance | decimal | Account balance (unchanged) |\n| created_at | string | ISO 8601 timestamp of creation |\n| updated_at | string | ISO 8601 timestamp of last update |\n\n#### Example Response (200 OK)\n```json\n{\n    \"key\": \"success\",\n    \"msg\": \"تم بنجاح\",\n    \"data\": {\n        \"id\": 1,\n        \"bank_name\": \"Updated Bank Name\",\n        \"bank_account_name\": \"John Updated\",\n        \"bank_account_number\": \"9876543210\",\n        \"bank_iban_number\": \"US64SVBKUS6S3300958879\",\n        \"balance\": \"5000.00\",\n        \"created_at\": \"2026-01-30T10:00:00.000000Z\",\n        \"updated_at\": \"2026-01-30T11:00:00.000000Z\"\n    }\n}\n```\n\n#### Status Codes\n- `200 OK`: Success - Account updated successfully\n- `400 Bad Request`: Failure - Account not found, doesn't belong to user, or error occurred\n- `422 Unprocessable Entity`: Validation failed - Check errors object for field-specific messages"
					},
					"response": [
						{
							"name": "Success - Account Updated",
							"originalRequest": {
								"method": "PUT",
								"header": [
									{
										"key": "Accept",
										"value": "application/json",
										"type": "text"
									}
								],
								"body": {
									"mode": "formdata",
									"formdata": [
										{
											"key": "bank_name",
											"value": "Updated Bank Name",
											"type": "text"
										},
										{
											"key": "bank_account_name",
											"value": "John Updated",
											"type": "text"
										}
									]
								},
								"url": {
									"raw": "{{base_url}}/api/users/1/accounts/1",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"users",
										"1",
										"accounts",
										"1"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n    \"key\": \"success\",\n    \"msg\": \"تم بنجاح\",\n    \"data\": {\n        \"id\": 1,\n        \"bank_name\": \"Updated Bank Name\",\n        \"bank_account_name\": \"John Updated\",\n        \"bank_account_number\": \"1234567890\",\n        \"bank_iban_number\": \"GB82WEST12345698765432\",\n        \"balance\": \"5000.00\",\n        \"created_at\": \"2026-01-30T10:00:00.000000Z\",\n        \"updated_at\": \"2026-01-30T11:00:00.000000Z\"\n    }\n}"
						},
						{
							"name": "Error - Account Not Found",
							"originalRequest": {
								"method": "PUT",
								"header": [
									{
										"key": "Accept",
										"value": "application/json",
										"type": "text"
									}
								],
								"body": {
									"mode": "formdata",
									"formdata": [
										{
											"key": "bank_name",
											"value": "Updated Bank Name",
											"type": "text"
										}
									]
								},
								"url": {
									"raw": "{{base_url}}/api/users/1/accounts/999",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"users",
										"1",
										"accounts",
										"999"
									]
								}
							},
							"status": "Bad Request",
							"code": 400,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n    \"key\": \"failure\",\n    \"msg\": \"Account not found with ID: 999\",\n    \"data\": []\n}"
						},
						{
							"name": "Error - Account Ownership Mismatch",
							"originalRequest": {
								"method": "PUT",
								"header": [
									{
										"key": "Accept",
										"value": "application/json",
										"type": "text"
									}
								],
								"body": {
									"mode": "formdata",
									"formdata": [
										{
											"key": "bank_name",
											"value": "Updated Bank Name",
											"type": "text"
										}
									]
								},
								"url": {
									"raw": "{{base_url}}/api/users/2/accounts/1",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"users",
										"2",
										"accounts",
										"1"
									]
								}
							},
							"status": "Bad Request",
							"code": 400,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n    \"key\": \"failure\",\n    \"msg\": \"الحساب لا ينتمي إلى هذا المستخدم\",\n    \"data\": []\n}"
						},
						{
							"name": "Error - Validation Failed",
							"originalRequest": {
								"method": "PUT",
								"header": [
									{
										"key": "Accept",
										"value": "application/json",
										"type": "text"
									}
								],
								"body": {
									"mode": "formdata",
									"formdata": [
										{
											"key": "bank_name",
											"value": "This is a very long bank name that exceeds the maximum allowed length of 50 characters",
											"type": "text"
										}
									]
								},
								"url": {
									"raw": "{{base_url}}/api/users/1/accounts/1",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"users",
										"1",
										"accounts",
										"1"
									]
								}
							},
							"status": "Unprocessable Entity",
							"code": 422,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n    \"message\": \"The given data was invalid.\",\n    \"errors\": {\n        \"bank_name\": [\"The bank name must not be greater than 50 characters.\"]\n    }\n}"
						}
					]
				},
				{
					"name": "Delete Account",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"if (!pm.environment.get('base_url')) {",
									"    pm.environment.set('base_url', 'http://localhost:8000');",
									"}"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    pm.test('Status code is 200', function () {",
									"        pm.response.to.have.status(200);",
									"    });",
									"    ",
									"    pm.test('Response has correct structure', function () {",
									"        const jsonData = pm.response.json();",
									"        pm.expect(jsonData).to.have.property('key');",
									"        pm.expect(jsonData).to.have.property('msg');",
									"        pm.expect(jsonData).to.have.property('data');",
									"        pm.expect(jsonData.key).to.eql('success');",
									"    });",
									"    ",
									"    pm.test('Success message is present', function () {",
									"        const jsonData = pm.response.json();",
									"        pm.expect(jsonData.msg).to.include('حذف');",
									"    });",
									"} else {",
									"    pm.test('Status code is 400', function () {",
									"        pm.response.to.have.status(400);",
									"    });",
									"    ",
									"    pm.test('Failure response structure', function () {",
									"        const jsonData = pm.response.json();",
									"        pm.expect(jsonData).to.have.property('key');",
									"        pm.expect(jsonData).to.have.property('msg');",
									"        pm.expect(jsonData).to.have.property('data');",
									"        pm.expect(jsonData.key).to.eql('failure');",
									"    });",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/users/:user/accounts/:account",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"users",
								":user",
								"accounts",
								":account"
							],
							"variable": [
								{
									"key": "user",
									"value": "1",
									"description": "User ID"
								},
								{
									"key": "account",
									"value": "1",
									"description": "Account ID"
								}
							]
						},
						"description": "## Documentation\n\n### Description\nSoft deletes an account by its unique identifier. The account is marked as deleted (soft delete) but not permanently removed from the database. The account must belong to the specified user from the route parameter. Soft-deleted accounts are excluded from list and get operations but can be restored if needed.\n\n### Notes\n- No authentication required\n- This is a soft delete operation (not permanent deletion)\n- Account must belong to the user specified in the route (ownership verification)\n- Soft-deleted accounts are excluded from list and get operations\n- If account is not found or doesn't belong to user, returns failure response with status 400\n- Response follows ResponseTrait standard format\n- The deleted_at timestamp is set on the account record\n\n### Request\n- **URL**: `{{base_url}}/api/users/{user}/accounts/{account}`\n- **Method**: `DELETE`\n- **Content-Type**: `application/json`\n- **URL Parameters**:\n  | Parameter | Type | Required | Description |\n  |-----------|------|----------|-------------|\n  | user | integer | Yes | User ID (must own the account) |\n  | account | integer | Yes | Account ID to delete |\n- **Body Parameters**: None\n\n### Response\n\n#### Response Structure\n| Key | Type | Description |\n|-----|------|-------------|\n| key | string | Response status key (\"success\" or \"failure\") |\n| msg | string | Response message in Arabic |\n| data | array | Empty array (always []) |\n\n#### Example Response (200 OK)\n```json\n{\n    \"key\": \"success\",\n    \"msg\": \"تم حذف الحساب بنجاح\",\n    \"data\": []\n}\n```\n\n#### Status Codes\n- `200 OK`: Success - Account soft deleted successfully\n- `400 Bad Request`: Failure - Account not found, doesn't belong to user, or error occurred"
					},
					"response": [
						{
							"name": "Success - Account Deleted",
							"originalRequest": {
								"method": "DELETE",
								"header": [
									{
										"key": "Accept",
										"value": "application/json",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{base_url}}/api/users/1/accounts/1",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"users",
										"1",
										"accounts",
										"1"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n    \"key\": \"success\",\n    \"msg\": \"تم حذف الحساب بنجاح\",\n    \"data\": []\n}"
						},
						{
							"name": "Error - Account Not Found",
							"originalRequest": {
								"method": "DELETE",
								"header": [
									{
										"key": "Accept",
										"value": "application/json",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{base_url}}/api/users/1/accounts/999",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"users",
										"1",
										"accounts",
										"999"
									]
								}
							},
							"status": "Bad Request",
							"code": 400,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n    \"key\": \"failure\",\n    \"msg\": \"Account not found with ID: 999\",\n    \"data\": []\n}"
						},
						{
							"name": "Error - Account Ownership Mismatch",
							"originalRequest": {
								"method": "DELETE",
								"header": [
									{
										"key": "Accept",
										"value": "application/json",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{base_url}}/api/users/2/accounts/1",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"users",
										"2",
										"accounts",
										"1"
									]
								}
							},
							"status": "Bad Request",
							"code": 400,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n    \"key\": \"failure\",\n    \"msg\": \"الحساب لا ينتمي إلى هذا المستخدم\",\n    \"data\": []\n}"
						}
					]
				}
			],
			"description": "Account management endpoints for CRUD operations (nested under users)"
		}
	],
	"variable": [
		{
			"key": "base_url",
			"value": "http://localhost:8000",
			"type": "string"
		}
	]
}

